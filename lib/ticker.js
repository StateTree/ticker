!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("ticker",[],e):"object"==typeof exports?exports.ticker=e():t.ticker=e()}(window,function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=1)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=l(n(2)),u=l(n(3));function l(t){return t&&t.__esModule?t:{default:t}}function c(t){if(!t)throw new Error("Ticker: instance can't be null");if(!(t instanceof a)){var e=t.constructor?t.constructor.name:void 0===t?"undefined":o(t);throw new Error("Ticker: Expecting instance of TickEntry got "+e)}if(!t.func)throw new Error("Ticker: function can't be undefined")}var a=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.context=n,this.func=e,this.priority=r,this.executionCount=0,this.notifier=new u.default,c(this)}return r(t,[{key:"onDone",value:function(t){return this.notifier.doneCallback=t,this.notifier}},{key:"onError",value:function(t){return this.notifier.errorCallback=t,this.notifier}},{key:"dispose",value:function(){this.context=null,this.func=null,this.priority=null,this.executionCount=NaN,this.notifier=null}},{key:"executeInCycle",value:function(){c(this);var t=this,e=t.func,n=t.context;return this.context=t,this.func=function(){var r=t.notifier,o=r.doneCallback,i=r.errorCallback;try{var u=e.call(n||e.this);t.executionCount++,o&&o.call(n||o.this,u)}catch(t){i&&i.call(n||i.this,t)}},(0,i.default)(this),this.notifier.onProgress=void 0,this.notifier}},{key:"executeAsSmallLoopsInCycle",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;c(this);var r=this,o=r.func,u=r.context;this.context=r;var l=t,a=n;return this.context=this,this.func=function(){for(var n=r.notifier,c=n.doneCallback,f=n.errorCallback,s=n.progressCallback,d=void 0;a<l;a++)try{d=o.call(u||o.this,a)}catch(t){return f&&f.call(u||f.this,t),void r.dispose()}l<e?(l+=t,s&&s.call(u||s.this,a,d),(0,i.default)(this)):a===e&&(r.executionCount++,c&&c.call(u||c.this,d))},(0,i.default)(this),this.notifier}}]),t}();e.default=a,a.HIGH=0,a.NORMAL=1,a.LOW=2,a.allowedTickCount=100},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){return t&&t.__esModule?t:{default:t}}(n(0));e.default=r.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){s()&&(o=window?window.requestAnimationFrame(d):setTimeout(d));if(c)u||(u=[]),u.push(t);else{var e=t.priority;i[e]||(i[e]=[]);var n=i[e];n.push(t)}};var r=function(t){return t&&t.__esModule?t:{default:t}}(n(0));var o=0,i=[null,null,null],u=null,l=0,c=!1;function a(){return++l<r.default.allowedTickCount?function(){if(function(){c=!0;for(var t=0;t<i.length;t++){var e=i[t];e&&e.length>0&&(f(e),i[t]=null)}c=!1}(),function(){var t=u?u.length:0;if(u&&t>0)for(var e=0;e<t;e++){var n=u[e],r=n.priority;i[r]||(i[r]=[]);var o=i[r];o.push(n)}u=null}(),s())return h(),!1;return!0}():(console.warn("Animation frame loop executed to its set limit: ",r.default.allowedTickCount),h(),!1)}function f(t){for(var e=0;e<t.length;e++){var n=t[e],r=n.func,o=n.context;r.call(o||r.this)}}function s(){for(var t=0;t<i.length;t++){var e=i[t];if(e&&e.length>0)return!1}return!0}function d(){a()&&(o=window.requestAnimationFrame(d))}function h(){l=0,c=!1,i=[null,null,null],u=null,window?window.cancelAnimationFrame(o):clearTimeout(o)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();var o=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.progressCallback,this.doneCallback,this.errorCallback}return r(t,[{key:"onError",value:function(t){return this.errorCallback=t,this}},{key:"onProgress",value:function(t){return this.progressCallback=t,this}},{key:"onDone",value:function(t){return this.doneCallback=t,this}}]),t}();e.default=o}])});