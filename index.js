!function(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define("ticker",[],n):"object"==typeof exports?exports.ticker=n():t.ticker=n()}(window,function(){return function(t){var n={};function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:r})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var o in t)e.d(r,o,function(n){return t[n]}.bind(null,o));return r},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=0)}([function(t,n,e){"use strict";e.r(n);var r=function(){var t=[null,null,null],n=null,e=!1;function r(n,e){t[e]||(t[e]=[]),t[e].push(n)}function o(n,e){var r=t[e];r&&r.length>0&&(n(r),t[e]=null)}return{readAndExecute:function(i){return e=!0,function(n){for(var e=t.length,r=0;r<e;r++)o(n,r)}(i),e=!1,function(){var t=n?n.length:0;if(t>0)for(var e=0;e<t;e++){var o=n[e];r(o.func,o.level)}return n=null,0==t}()},reset:function(){e=!1,t=[null,null,null],n=[]},add:function(t,o){e?function(t,e){n||(n=[]),n.push({func:t,level:e})}(t,o):r(t,o)},isMemoryEmpty:function(){for(var n=t.length,e=0;e<n;e++){var r=t[e];if(r&&r.length>0)return!1}return!0}}}();var o=function(t){var n=0,e=0,o=t||100;function i(t){for(var n=0;n<t.length;n++){var e=t[n];e.call(e.this)}}function u(){++e<o?r.readAndExecute(i)?l():c():(console.warn("Animation frame loop executed to its set limit: ",o),l())}function c(){n=window?window.requestAnimationFrame(u):setTimeout(u)}function l(){e=0,r.reset(),window?window.cancelAnimationFrame(n):clearTimeout(n)}return function(t,n){r.isMemoryEmpty()&&c(),r.add(t,n)}}();var i=function t(){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.progressCallback,this.doneCallback,this.errorCallback};i.prototype.onError=function(t){return this.errorCallback=t,this},i.prototype.onProgress=function(t){return this.progressCallback=t,this},i.prototype.onDone=function(t){return this.doneCallback=t,this};var u="Maximum Loop Per Frame has to be a number",c="Start Index has to be a number",l="End Index has to be a number";function a(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function f(t){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t){if(!t)throw new Error("Ticker: instance can't be null");if(!(t instanceof h)){var n=t.constructor?t.constructor.name:f(t);throw new Error("Ticker: Expecting instance of TickEntry got ".concat(n))}if(!t.func)throw new Error("Ticker: function can't be undefined")}var h=function(){function t(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.context=e,this.func=n,this.priority=r,this.executionCount=0,this.notifier=new i,s(this)}var n,e,r;return n=t,(e=[{key:"onDone",value:function(t){return this.notifier.doneCallback=t,this.notifier}},{key:"onError",value:function(t){return this.notifier.errorCallback=t,this.notifier}},{key:"dispose",value:function(){this.context=null,this.func=null,this.priority=null,this.executionCount=NaN,this.notifier=null}},{key:"executeInCycle",value:function(){s(this);var t=this,n=t.func,e=t.context,r=t.priority;return o(function(){var r=t.notifier,o=r.doneCallback,i=r.errorCallback;try{var u=n.call(e||n.this);t.executionCount++,o&&o.call(e||o.this,u)}catch(n){i&&i.call(e||i.this,n),t.dispose()}},r),this.notifier.onProgress=void 0,this.notifier}},{key:"executeAsSmallLoopsInCycle",value:function(t,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(void 0===t||"number"!=typeof t)throw new Error(u);if(void 0===n||"number"!=typeof n)throw new Error(l);if("number"!=typeof e)throw new Error(c);s(this);var r=this,i=r.func,a=r.context,f=r.priority,h=t,p=e;return o(function e(){for(var u,c=r.notifier,l=c.doneCallback,s=c.errorCallback,d=c.progressCallback;p<h;p++)try{u=i.call(a||i.this,p)}catch(t){return s&&s.call(a||s.this,t),void r.dispose()}h<n?(h+=t,d&&d.call(a||d.this,p,u),o(e,f)):p===n&&(r.executionCount++,l&&l.call(a||l.this,u))},f),this.notifier}}])&&a(n.prototype,e),r&&a(n,r),t}();h.HIGH=0,h.NORMAL=1,h.LOW=2,h.allowedTickCount=100;n.default=h}])});