!function(n,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("ticker",[],e):"object"==typeof exports?exports.ticker=e():n.ticker=e()}(window,function(){return function(n){var e={};function t(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return n[o].call(r.exports,r,r.exports,t),r.l=!0,r.exports}return t.m=n,t.c=e,t.d=function(n,e,o){t.o(n,e)||Object.defineProperty(n,e,{enumerable:!0,get:o})},t.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},t.t=function(n,e){if(1&e&&(n=t(n)),8&e)return n;if(4&e&&"object"==typeof n&&n&&n.__esModule)return n;var o=Object.create(null);if(t.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:n}),2&e&&"string"!=typeof n)for(var r in n)t.d(o,r,function(e){return n[e]}.bind(null,r));return o},t.n=function(n){var e=n&&n.__esModule?function(){return n.default}:function(){return n};return t.d(e,"a",e),e},t.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},t.p="",t(t.s=1)}([function(n,e,t){"use strict";t.r(e);var o=0,r=[null,null,null],i=null,u=0,l=!1;function c(){return++u<C.allowedTickCount?function(){if(function(){l=!0;for(var n=0;n<r.length;n++){var e=r[n];e&&e.length>0&&(a(e),r[n]=null)}l=!1}(),function(){var n=i?i.length:0;if(i&&n>0)for(var e=0;e<n;e++){var t=i[e],o=t.priority;r[o]||(r[o]=[]);var u=r[o];u.push(t)}i=null}(),f())return d(),!1;return!0}():(console.warn("Animation frame loop executed to its set limit: ",C.allowedTickCount),d(),!1)}function a(n){for(var e=0;e<n.length;e++){var t=n[e];t.func.call(t)}}function f(){for(var n=0;n<r.length;n++){var e=r[n];if(e&&e.length>0)return!1}return!0}function s(){c()&&(o=window.requestAnimationFrame(s))}function d(){u=0,l=!1,r=[null,null,null],i=null,window?window.cancelAnimationFrame(o):clearTimeout(o)}function h(n){if(f()&&(o=window?window.requestAnimationFrame(s):setTimeout(s)),l)i||(i=[]),i.push(n);else{var e=n.priority;r[e]||(r[e]=[]),r[e].push(n)}}function p(n,e){for(var t=0;t<e.length;t++){var o=e[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(n,o.key,o)}}var y=function(){function n(){!function(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),this.progressCallback,this.doneCallback,this.errorCallback}return function(n,e,t){e&&p(n.prototype,e),t&&p(n,t)}(n,[{key:"onError",value:function(n){return this.errorCallback=n,this}},{key:"onProgress",value:function(n){return this.progressCallback=n,this}},{key:"onDone",value:function(n){return this.doneCallback=n,this}}]),n}(),b="Maximum Loop Per Frame has to be a number",m="Start Index has to be a number",v="End Index has to be a number";function g(n,e){for(var t=0;t<e.length;t++){var o=e[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(n,o.key,o)}}function w(n){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(n)}function k(n){if(!n)throw new Error("Ticker: instance can't be null");if(!(n instanceof C)){var e=n.constructor?n.constructor.name:w(n);throw new Error("Ticker: Expecting instance of TickEntry got ".concat(e))}if(!n.func)throw new Error("Ticker: function can't be undefined")}var C=function(){function n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;!function(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),this.context=t,this.func=e,this.priority=o,this.executionCount=0,this.notifier=new y,k(this)}return function(n,e,t){e&&g(n.prototype,e),t&&g(n,t)}(n,[{key:"onDone",value:function(n){return this.notifier.doneCallback=n,this.notifier}},{key:"onError",value:function(n){return this.notifier.errorCallback=n,this.notifier}},{key:"dispose",value:function(){this.context=null,this.func=null,this.priority=null,this.executionCount=NaN,this.notifier=null}},{key:"executeInCycle",value:function(){k(this);var n=this,e=n.func,t=n.context;return this.func=function(){var o=n.notifier,r=o.doneCallback,i=o.errorCallback;try{var u=e.call(t||e.this);n.func=e,n.executionCount++,r&&r.call(t||r.this,u)}catch(e){i&&i.call(t||i.this,e),n.dispose()}},h(this),this.notifier.onProgress=void 0,this.notifier}},{key:"executeAsSmallLoopsInCycle",value:function(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(void 0===n||"number"!=typeof n)throw new Error(b);if(void 0===e||"number"!=typeof e)throw new Error(v);if("number"!=typeof t)throw new Error(m);k(this);var o=this,r=o.func,i=o.context,u=n,l=t;return this.func=function(){for(var t,c=o.notifier,a=c.doneCallback,f=c.errorCallback,s=c.progressCallback;l<u;l++)try{t=r.call(i||r.this,l)}catch(n){return f&&f.call(i||f.this,n),void o.dispose()}u<e?(u+=n,s&&s.call(i||s.this,l,t),h(this)):l===e&&(o.func=r,o.executionCount++,a&&a.call(i||a.this,t))},h(this),this.notifier}}]),n}();C.HIGH=0,C.NORMAL=1,C.LOW=2,C.allowedTickCount=100;e.default=C},function(n,e,t){"use strict";t.r(e);var o=t(0);for(var r=[],i=0;i<100;i++)r[i]=i;var u=0;var l=0;new o.default(function(n){return console.log(n),u+=n,document.getElementById("indexLogger").innerHTML=document.getElementById("indexLogger").innerHTML+","+n,document.getElementById("logger").innerHTML=u,u}).executeAsSmallLoopsInCycle(1,10).onProgress(function(n,e){console.log("forLoopCodeCallback progress - ",n,e),l+=1,document.getElementById("loopLogger").innerHTML=n+" - "+l+"-"+e}).onDone(function(n){console.log("forLoopCodeCallback done - ",n),document.getElementById("loopLogger").innerHTML=document.getElementById("loopLogger").innerHTML+" - Done"})}])});